<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.DullPointers.controller.CashierController" stylesheets="@../css/cashier.css">
    <top>
        <VBox>
            <HBox alignment="CENTER_LEFT" spacing="20" styleClass="header-bar">
                <padding><Insets bottom="10" left="20" right="20" top="10"/></padding>
                <Label text="POS Terminal" styleClass="header-title"/>
                <HBox HBox.hgrow="ALWAYS"/>
                <Button text="Logout" onAction="#handleLogout"/>
            </HBox>
            <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-background-color: #eee; -fx-padding: 10;">
                <Label text="Customer:"/>
                <TextField fx:id="customerSearchField" promptText="Search Name/Phone"/>
                <Button text="Search" onAction="#handleCustomerSearch"/>
                <Button text="New" onAction="#handleNewCustomer"/>
                <Button text="Analytics" onAction="#handleShowAnalytics"/>
                <HBox HBox.hgrow="ALWAYS"/>
                <Label fx:id="customerNameLabel" text="Guest"/>
                <Label fx:id="loyaltyPointsLabel" text="-"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <TableView fx:id="cartTable">
            <columns>
                <TableColumn fx:id="colDelete" prefWidth="40"/>
                <TableColumn fx:id="colProduct" text="Product" prefWidth="200"/>
                <TableColumn fx:id="colPrice" text="Price" prefWidth="80"/>
                <TableColumn fx:id="colQty" text="Qty" prefWidth="50"/>
                <TableColumn fx:id="colTotal" text="Total" prefWidth="80"/>
            </columns>
            <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
        </TableView>
    </center>

    <right>
        <VBox spacing="15" styleClass="sidebar">
            <padding><Insets top="20" right="10" left="10" bottom="20"/></padding>
            <TextField fx:id="barcodeField" promptText="Scan Barcode" onAction="#handleAddItem"/>
            <VBox VBox.vgrow="ALWAYS"/>

            <GridPane hgap="10" vgap="5">
                <Label text="Subtotal:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <Label fx:id="subtotalLabel" text="0.00" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                <Label text="Discount:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <Label fx:id="discountLabel" text="0" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                <Label text="Total:" GridPane.rowIndex="2" GridPane.columnIndex="0" style="-fx-font-weight:bold;"/>
                <Label fx:id="grandTotalLabel" text="0.00" GridPane.rowIndex="2" GridPane.columnIndex="1" style="-fx-font-weight:bold;"/>
            </GridPane>

            <CheckBox fx:id="redeemPointsCheckbox" text="Redeem Points" disable="true" onAction="#handleRedeemToggle"/>
            <ComboBox fx:id="paymentMethodCombo" prefWidth="200"/>

            <Button text="CHECKOUT" onAction="#handleCheckout" maxWidth="Infinity" styleClass="checkout-button"/>
            <Button text="CANCEL" onAction="#handleCancel" maxWidth="Infinity"/>
        </VBox>
    </right>
</BorderPane>